<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_75) on Fri Jun 26 12:06:58 CDT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>TpmIdentityProof (PrivacyCA 2.2 API)</title>
<meta name="date" content="2015-06-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TpmIdentityProof (PrivacyCA 2.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TpmIdentityProof.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/niarl/his/privacyca/TpmIdentity.html" title="class in gov.niarl.his.privacyca"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../gov/niarl/his/privacyca/TpmIdentityRequest.html" title="class in gov.niarl.his.privacyca"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/niarl/his/privacyca/TpmIdentityProof.html" target="_top">Frames</a></li>
<li><a href="TpmIdentityProof.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.niarl.his.privacyca</div>
<h2 title="Class TpmIdentityProof" class="title">Class TpmIdentityProof</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>gov.niarl.his.privacyca.TpmIdentityProof</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TpmIdentityProof</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">See TPM_IDENTITY_PROOF<p>
 
 <p>The TpmIdentityProof is the plain-text incarnation of a TPM's request for an 
 AIK credential. The data contained in the identity proof is used to verify the 
 integrity of the request, and to construct an AIK credential.</p>
 
 The TPM_IDENTITY_PROOF structure, as defined by the TCG, contains the following elements:
 <ul>
 <li><b>TPM_STRUCT_VER</b>, which is a byte array always equal to 0x01010000</li>
 <li><b>AIK</b> in the form of a TPM_PUBKEY (TpmPubKey class)</li>
 <li><b>Identity label</b> The requested name for the identity. This will (probably) be placed in the Subject Alternative Name field in the AIC by the Privacy CA, per specification.</li>
 <li><b>Identity binding</b> This is the signature, made using the private AIK, of a hash made of the TPM_IDENTITY_CONTENTS structure (see note below).</li>
 <li><b>Endorsement Certificate</b> (optional) This really should be a required item, but isn't.</li>
 <li><b>Platform Certificate</b> (optional)</li>
 <li><b>Conformance Certificate</b> (optional)</li>
 </ul>
 
 This class adds additional flags to clarify discrepancies that have been observed among TSS implementations. These flags include:
 <ul>
 <li><b>TrousersModeIV</b> (boolean) Though both NTRU and TrouSerS place the initialization vector for symmetrically encrypted data within, but at the beginning of, the encrypted data blob, the specification states that the IV should be recorded within the TPM_KEY_PARMS structure for the symmetric key. Setting this boolean to TRUE indicates the use of "TrouSerS-style placement.</li>
 <li><b>TrousersModeSymkeyEncscheme</b> (boolean) TrouSerS (but not NTRU) incorrectly sets the symmetric encryption scheme to TPM_ES_NONE. The correct scheme to use is TPM_ES_SYM_CBC_PKCS5PAD. Both NTRU and TrouSerS <i>use</i> this scheme for encryption, but TrouSerS records it as otherwise.</li>
 <li><b>TrousersModeBlankOeap</b> (boolean) TrouSerS incorrectly encrypts the asymmetric blob, as it uses a blank OEAP password. The password should be "TCPA".</li>
 </ul>
 
 <p>Developer note: Methods in this class are responsible for working with all aspects of the 
 TPM_IDENTITY_CONTENTS structure. A future version of the TPM support code may include 
 a TpmIdentityContents class, which would greatly simplify the code in this class.</p>
 
 <p>This class can be used by a Privacy CA for parsing an incoming request, but 
 it can also be used by a client for constructing a new request.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>schawki</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../gov/niarl/his/privacyca/TpmIdentityRequest.html" title="class in gov.niarl.his.privacyca"><code>TpmIdentityRequest</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#TpmIdentityProof(byte[],%20boolean,%20boolean,%20boolean)">TpmIdentityProof</a></strong>(byte[]&nbsp;blob,
                boolean&nbsp;IV,
                boolean&nbsp;symKey,
                boolean&nbsp;oaep)</code>
<div class="block">Create new TpmIdentityProof object by parsing the decrypted data from a 
 TPM_IDENTITY_REQ.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#TpmIdentityProof(byte[],%20byte[],%20gov.niarl.his.privacyca.TpmPubKey,%20byte[],%20byte[],%20byte[],%20boolean,%20boolean,%20boolean)">TpmIdentityProof</a></strong>(byte[]&nbsp;idLabel,
                byte[]&nbsp;idBinding,
                <a href="../../../../gov/niarl/his/privacyca/TpmPubKey.html" title="class in gov.niarl.his.privacyca">TpmPubKey</a>&nbsp;AIK,
                byte[]&nbsp;ekCertBytes,
                byte[]&nbsp;platformCertBytes,
                byte[]&nbsp;conformanceCertBytes,
                boolean&nbsp;IV,
                boolean&nbsp;symKey,
                boolean&nbsp;oaep)</code>
<div class="block">Create a new TpmIdentityProof by supplying all of the necessary elements to construct one from scratch.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#checkValidity(java.security.interfaces.RSAPublicKey)">checkValidity</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/security/interfaces/RSAPublicKey.html?is-external=true" title="class or interface in java.security.interfaces">RSAPublicKey</a>&nbsp;caPubKey)</code>
<div class="block">Use the identity binding (the signature value of the TPM_IDENTITY_CONTENTS structure) to determine the validity of the request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../gov/niarl/his/privacyca/TpmPubKey.html" title="class in gov.niarl.his.privacyca">TpmPubKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getAik()">getAik</a></strong>()</code>
<div class="block">Get the AIK stored in the request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/X509Certificate.html?is-external=true" title="class or interface in javax.security.cert">X509Certificate</a></code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getConformCred()">getConformCred</a></strong>()</code>
<div class="block">CC stored in the Identity Proof, if present, in the form of an X509Certificate object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getConformCredBytes()">getConformCredBytes</a></strong>()</code>
<div class="block">CC stored in the Identity Proof, if present, in the form of raw bytes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/X509Certificate.html?is-external=true" title="class or interface in javax.security.cert">X509Certificate</a></code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getEkCred()">getEkCred</a></strong>()</code>
<div class="block">EC stored in the Identity Proof, if present, in the form of an X509Certificate object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getEkCredBytes()">getEkCredBytes</a></strong>()</code>
<div class="block">EC stored in the Identity Proof, if present, in the form of raw bytes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getIdBindingBytes()">getIdBindingBytes</a></strong>()</code>
<div class="block">Return the Identity Binding.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getIdLableBytes()">getIdLableBytes</a></strong>()</code>
<div class="block">Get the Identity Label string (in ASCII byte array) as stored in the Identity Proof.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getIVmode()">getIVmode</a></strong>()</code>
<div class="block">Get the TrousersModeIV status.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getOeapMode()">getOeapMode</a></strong>()</code>
<div class="block">Get the TrousersModeBlankOeap flag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getOeapMode(boolean)">getOeapMode</a></strong>(boolean&nbsp;newMode)</code>
<div class="block">Set the TrousersModeBlankOeap flag.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/X509Certificate.html?is-external=true" title="class or interface in javax.security.cert">X509Certificate</a></code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getPlatformCred()">getPlatformCred</a></strong>()</code>
<div class="block">PC stored in the Identity Proof, if present, in the form of an X509Certificate object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getPlatformCredBytes()">getPlatformCredBytes</a></strong>()</code>
<div class="block">PC stored in the Identity Proof, if present, in the form of raw bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getSymkeyEncscheme()">getSymkeyEncscheme</a></strong>()</code>
<div class="block">Get the TrousersModeSymkeyEncscheme status.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#getVer()">getVer</a></strong>()</code>
<div class="block">Get the TPM_STRUCT_VER.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#setIVmode(boolean)">setIVmode</a></strong>(boolean&nbsp;newMode)</code>
<div class="block">Set the TrousersModeIV status.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#setSymkeyEncscheme(boolean)">setSymkeyEncscheme</a></strong>(boolean&nbsp;newScheme)</code>
<div class="block">Set the TrousersModeSymkeyEncscheme flag.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#toByteArray()">toByteArray</a></strong>()</code>
<div class="block">Get the Identity Proof in the form of a byte array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../gov/niarl/his/privacyca/TpmIdentityProof.html#toString()">toString</a></strong>()</code>
<div class="block">Display the parsed contents of the request in a form suitable for display on console or in log file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TpmIdentityProof(byte[], boolean, boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TpmIdentityProof</h4>
<pre>public&nbsp;TpmIdentityProof(byte[]&nbsp;blob,
                boolean&nbsp;IV,
                boolean&nbsp;symKey,
                boolean&nbsp;oaep)
                 throws <a href="../../../../gov/niarl/his/privacyca/PrivacyCaException.html" title="class in gov.niarl.his.privacyca">PrivacyCaException</a>,
                        <a href="../../../../gov/niarl/his/privacyca/TpmUtils.TpmUnsignedConversionException.html" title="class in gov.niarl.his.privacyca">TpmUtils.TpmUnsignedConversionException</a>,
                        <a href="../../../../gov/niarl/his/privacyca/TpmUtils.TpmBytestreamResouceException.html" title="class in gov.niarl.his.privacyca">TpmUtils.TpmBytestreamResouceException</a></pre>
<div class="block">Create new TpmIdentityProof object by parsing the decrypted data from a 
 TPM_IDENTITY_REQ. Information gathered while parsing and decrypting the 
 Identity Request is needed to properly parse the Ideneity Proof. Also, 
 that information may be useful when crafting the response to the client.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blob</code> - The decrypted form of the sym blob from the Identity Request.</dd><dd><code>IV</code> - Set to TRUE if the IV was placed at the beginning of the symblob of the Identity Request instead of in the key parameters.</dd><dd><code>symKey</code> - Set to TRUE if the symmetric encryption scheme was set to TPM_ES_NONE in the Identity Request.</dd><dd><code>oaep</code> - Set to TRUE if the OAEP password was blank.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../gov/niarl/his/privacyca/PrivacyCaException.html" title="class in gov.niarl.his.privacyca">PrivacyCaException</a></code></dd>
<dd><code><a href="../../../../gov/niarl/his/privacyca/TpmUtils.TpmUnsignedConversionException.html" title="class in gov.niarl.his.privacyca">TpmUtils.TpmUnsignedConversionException</a></code></dd>
<dd><code><a href="../../../../gov/niarl/his/privacyca/TpmUtils.TpmBytestreamResouceException.html" title="class in gov.niarl.his.privacyca">TpmUtils.TpmBytestreamResouceException</a></code></dd></dl>
</li>
</ul>
<a name="TpmIdentityProof(byte[], byte[], gov.niarl.his.privacyca.TpmPubKey, byte[], byte[], byte[], boolean, boolean, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TpmIdentityProof</h4>
<pre>public&nbsp;TpmIdentityProof(byte[]&nbsp;idLabel,
                byte[]&nbsp;idBinding,
                <a href="../../../../gov/niarl/his/privacyca/TpmPubKey.html" title="class in gov.niarl.his.privacyca">TpmPubKey</a>&nbsp;AIK,
                byte[]&nbsp;ekCertBytes,
                byte[]&nbsp;platformCertBytes,
                byte[]&nbsp;conformanceCertBytes,
                boolean&nbsp;IV,
                boolean&nbsp;symKey,
                boolean&nbsp;oaep)</pre>
<div class="block">Create a new TpmIdentityProof by supplying all of the necessary elements to construct one from scratch.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>idLabel</code> - The requested Identity Label. This is usually assigned as the Subject Alternative Name in the AIC. Supply as ASCII string in byte array.</dd><dd><code>idBinding</code> - The identity binding is supplied from the TPM by running TPM_MakeIdentity (available via TCS, not TSP). Should be 256 byte (signature made using 2048 bit AIK).</dd><dd><code>AIK</code> - The AIK in TpmPubKey form. This should also be supplied from the TPM using TPM_MakeIdentity.</dd><dd><code>ekCertBytes</code> - (Optional) Endorsement Certificate (EC), usually as an X.509 certificate, as a byte array. Null is acceptable.</dd><dd><code>platformCertBytes</code> - (Optional) Platform Certificate, usually as an X.509 certificate, as a byte array. Null is acceptable.</dd><dd><code>conformanceCertBytes</code> - (Optional) Conformance Certificate, usually as an X.509 certificate, as a byte array. Null is acceptable.</dd><dd><code>IV</code> - TrouSerS IV placement mode flag. Recommended setting is TRUE.</dd><dd><code>symKey</code> - TrouSerS symmetric encryption scheme flag. Recommended setting is FALSE.</dd><dd><code>oaep</code> - TrouSerS use of blank OAEP password flag. Recommended setting is FALSE.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getIVmode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIVmode</h4>
<pre>public&nbsp;boolean&nbsp;getIVmode()</pre>
<div class="block">Get the TrousersModeIV status. A value of TRUE indicates that the IV placement is inside, and at the beginning of, the symmetrically encrypted blob and not in the symmetric key parameters. This will almost always be set at TRUE.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The status of the flag.</dd></dl>
</li>
</ul>
<a name="setIVmode(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIVmode</h4>
<pre>public&nbsp;void&nbsp;setIVmode(boolean&nbsp;newMode)</pre>
<div class="block">Set the TrousersModeIV status. A value of TRUE indicates that the IV placement is inside, and at the beginning of, the symmetrically encrypted blob and not in the symmetric key parameters. This will almost always be set at TRUE.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newMode</code> - Set to TRUE for greatest compatibility; set to FALSE for compliance to specification.</dd></dl>
</li>
</ul>
<a name="getSymkeyEncscheme()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSymkeyEncscheme</h4>
<pre>public&nbsp;boolean&nbsp;getSymkeyEncscheme()</pre>
<div class="block">Get the TrousersModeSymkeyEncscheme status. A value of TRUE indicates that the identity proof was constructed by TrouSerS, and is not compliant with the specification.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The status of the flag.</dd></dl>
</li>
</ul>
<a name="setSymkeyEncscheme(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSymkeyEncscheme</h4>
<pre>public&nbsp;void&nbsp;setSymkeyEncscheme(boolean&nbsp;newScheme)</pre>
<div class="block">Set the TrousersModeSymkeyEncscheme flag. This <i>should</i> always be set to FALSE.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newScheme</code> - Set to TRUE to emulate an identity proof created by TrouSerS; set to FALSE to comply with the specification.</dd></dl>
</li>
</ul>
<a name="getOeapMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOeapMode</h4>
<pre>public&nbsp;boolean&nbsp;getOeapMode()</pre>
<div class="block">Get the TrousersModeBlankOeap flag. A value of TRUE indicates that the identity proof was constructed by TrouSerS, and is not compliant with the specification.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The status of the flag.</dd></dl>
</li>
</ul>
<a name="getOeapMode(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOeapMode</h4>
<pre>public&nbsp;void&nbsp;getOeapMode(boolean&nbsp;newMode)</pre>
<div class="block">Set the TrousersModeBlankOeap flag. A value of TRUE indicates that the identity proof was constructed by TrouSerS, and is not compliant with the specification.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newMode</code> - Set to TRUE to emulate an identity proof constructed by TrouSerS; set to FALSE to comply with the specification.</dd></dl>
</li>
</ul>
<a name="toByteArray()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toByteArray</h4>
<pre>public&nbsp;byte[]&nbsp;toByteArray()
                   throws <a href="../../../../gov/niarl/his/privacyca/TpmUtils.TpmUnsignedConversionException.html" title="class in gov.niarl.his.privacyca">TpmUtils.TpmUnsignedConversionException</a></pre>
<div class="block">Get the Identity Proof in the form of a byte array.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Entire Identity Proof in the form of a byte array.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../gov/niarl/his/privacyca/TpmUtils.TpmUnsignedConversionException.html" title="class in gov.niarl.his.privacyca">TpmUtils.TpmUnsignedConversionException</a></code> - Thrown if there are any out-of-bounds problems converting from (signed) Java long to UINT32.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Display the parsed contents of the request in a form suitable for display on console or in log file. This is intended to be used when troubleshooting.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Multi-line human readable breakdown of identity proof contents</dd></dl>
</li>
</ul>
<a name="checkValidity(java.security.interfaces.RSAPublicKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkValidity</h4>
<pre>public&nbsp;boolean&nbsp;checkValidity(<a href="http://download.oracle.com/javase/6/docs/api/java/security/interfaces/RSAPublicKey.html?is-external=true" title="class or interface in java.security.interfaces">RSAPublicKey</a>&nbsp;caPubKey)
                      throws <a href="http://download.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a>,
                             <a href="../../../../gov/niarl/his/privacyca/TpmUtils.TpmUnsignedConversionException.html" title="class in gov.niarl.his.privacyca">TpmUtils.TpmUnsignedConversionException</a>,
                             <a href="http://download.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a>,
                             <a href="http://download.oracle.com/javase/6/docs/api/java/security/spec/InvalidKeySpecException.html?is-external=true" title="class or interface in java.security.spec">InvalidKeySpecException</a>,
                             <a href="http://download.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a></pre>
<div class="block">Use the identity binding (the signature value of the TPM_IDENTITY_CONTENTS structure) to determine the validity of the request.<p>
 The TPM_IDENTITY_CONTENTS structure contains the public AIK and a hash of the idLabel and the Privacy CA's public key.<p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>caPubKey</code> - The Privacy CA's public key.</dd>
<dt><span class="strong">Returns:</span></dt><dd><b>True</b> if the identity binding checks out, <b>false</b> if it does not.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a></code></dd>
<dd><code><a href="../../../../gov/niarl/his/privacyca/TpmUtils.TpmUnsignedConversionException.html" title="class in gov.niarl.his.privacyca">TpmUtils.TpmUnsignedConversionException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/security/spec/InvalidKeySpecException.html?is-external=true" title="class or interface in java.security.spec">InvalidKeySpecException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a></code></dd></dl>
</li>
</ul>
<a name="getAik()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAik</h4>
<pre>public&nbsp;<a href="../../../../gov/niarl/his/privacyca/TpmPubKey.html" title="class in gov.niarl.his.privacyca">TpmPubKey</a>&nbsp;getAik()</pre>
<div class="block">Get the AIK stored in the request.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The AIK as a TpmPubKey.</dd></dl>
</li>
</ul>
<a name="getVer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVer</h4>
<pre>public&nbsp;byte[]&nbsp;getVer()</pre>
<div class="block">Get the TPM_STRUCT_VER. Should always be 0x01010000.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The four-byte TpmStructVer.</dd></dl>
</li>
</ul>
<a name="getIdLableBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdLableBytes</h4>
<pre>public&nbsp;byte[]&nbsp;getIdLableBytes()</pre>
<div class="block">Get the Identity Label string (in ASCII byte array) as stored in the Identity Proof.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The identity label as a byte string (ASCII).</dd></dl>
</li>
</ul>
<a name="getIdBindingBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdBindingBytes</h4>
<pre>public&nbsp;byte[]&nbsp;getIdBindingBytes()</pre>
<div class="block">Return the Identity Binding. It should be the signature of the Identity Contents made using the AIK. Should always be 256 bytes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The identity binding, as extracted directly from the identity proof.</dd></dl>
</li>
</ul>
<a name="getEkCredBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEkCredBytes</h4>
<pre>public&nbsp;byte[]&nbsp;getEkCredBytes()</pre>
<div class="block">EC stored in the Identity Proof, if present, in the form of raw bytes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The X509 Endorsement Key Certificate as a byte array. This must be present to complete the Privacy CA process.</dd></dl>
</li>
</ul>
<a name="getEkCred()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEkCred</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/X509Certificate.html?is-external=true" title="class or interface in javax.security.cert">X509Certificate</a>&nbsp;getEkCred()
                          throws <a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/CertificateException.html?is-external=true" title="class or interface in javax.security.cert">CertificateException</a></pre>
<div class="block">EC stored in the Identity Proof, if present, in the form of an X509Certificate object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The EK certificate as a java X509Certificate.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/CertificateException.html?is-external=true" title="class or interface in javax.security.cert">CertificateException</a></code></dd></dl>
</li>
</ul>
<a name="getPlatformCredBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlatformCredBytes</h4>
<pre>public&nbsp;byte[]&nbsp;getPlatformCredBytes()</pre>
<div class="block">PC stored in the Identity Proof, if present, in the form of raw bytes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The Platform Certificate as a byte array. May be <b>null</b>.</dd></dl>
</li>
</ul>
<a name="getPlatformCred()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlatformCred</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/X509Certificate.html?is-external=true" title="class or interface in javax.security.cert">X509Certificate</a>&nbsp;getPlatformCred()
                                throws <a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/CertificateException.html?is-external=true" title="class or interface in javax.security.cert">CertificateException</a>,
                                       <a href="http://download.oracle.com/javase/6/docs/api/java/security/cert/CertificateException.html?is-external=true" title="class or interface in java.security.cert">CertificateException</a>,
                                       <a href="http://download.oracle.com/javase/6/docs/api/java/security/cert/CertificateEncodingException.html?is-external=true" title="class or interface in java.security.cert">CertificateEncodingException</a></pre>
<div class="block">PC stored in the Identity Proof, if present, in the form of an X509Certificate object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The Platform Certificate as a Java X509Certificate. If not present, will throw exception.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/CertificateException.html?is-external=true" title="class or interface in javax.security.cert">CertificateException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/security/cert/CertificateException.html?is-external=true" title="class or interface in java.security.cert">CertificateException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/security/cert/CertificateEncodingException.html?is-external=true" title="class or interface in java.security.cert">CertificateEncodingException</a></code></dd></dl>
</li>
</ul>
<a name="getConformCredBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConformCredBytes</h4>
<pre>public&nbsp;byte[]&nbsp;getConformCredBytes()</pre>
<div class="block">CC stored in the Identity Proof, if present, in the form of raw bytes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The Conformance Credential as a byte array. May be <b>null</b>.</dd></dl>
</li>
</ul>
<a name="getConformCred()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getConformCred</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/X509Certificate.html?is-external=true" title="class or interface in javax.security.cert">X509Certificate</a>&nbsp;getConformCred()
                               throws <a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/CertificateException.html?is-external=true" title="class or interface in javax.security.cert">CertificateException</a>,
                                      <a href="http://download.oracle.com/javase/6/docs/api/java/security/cert/CertificateException.html?is-external=true" title="class or interface in java.security.cert">CertificateException</a>,
                                      <a href="http://download.oracle.com/javase/6/docs/api/java/security/cert/CertificateEncodingException.html?is-external=true" title="class or interface in java.security.cert">CertificateEncodingException</a></pre>
<div class="block">CC stored in the Identity Proof, if present, in the form of an X509Certificate object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The Conformance Credential as a Java X509Certificate. If not present, will throw exception.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/javax/security/cert/CertificateException.html?is-external=true" title="class or interface in javax.security.cert">CertificateException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/security/cert/CertificateException.html?is-external=true" title="class or interface in java.security.cert">CertificateException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/security/cert/CertificateEncodingException.html?is-external=true" title="class or interface in java.security.cert">CertificateEncodingException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TpmIdentityProof.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/niarl/his/privacyca/TpmIdentity.html" title="class in gov.niarl.his.privacyca"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../gov/niarl/his/privacyca/TpmIdentityRequest.html" title="class in gov.niarl.his.privacyca"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/niarl/his/privacyca/TpmIdentityProof.html" target="_top">Frames</a></li>
<li><a href="TpmIdentityProof.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015 <a href="https://github.com/OpenAttestation/OpenAttestation">Intel Corporation</a>. All Rights Reserved.</small></p>
</body>
</html>
